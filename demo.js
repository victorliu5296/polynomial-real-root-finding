(()=>{"use strict";var t={308:(t,e)=>{function n(t,e,n,o=1e-5,r=100){let i=t(e);if(e===n){if(0===i)return e;throw new Error("The initial interval does not contain a single root.")}let a=t(n);if(0===i&&(i=t(e+=o)),0===a&&(a=t(n-=o)),Math.sign(i)===Math.sign(a))throw new Error(`The initial interval ${e} to ${n} does not contain a single root.`);for(let a=0;a<r;a++){const r=(e+n)/2,a=t(r);if(0===a||(n-e)/2<o)return r;Math.sign(a)===Math.sign(i)?(e=r,i=a):n=r}return NaN}Object.defineProperty(e,"__esModule",{value:!0}),e.refineRootIntervalBisectionBounds=e.refineRootIntervalBisection=void 0,e.refineRootIntervalBisection=function(t,e,o=1e-5,r=250){return n(t,e[0],e[1],o,r)},e.refineRootIntervalBisectionBounds=n},756:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.scaleInput=e.reciprocalInput=e.taylorShift=e.taylorShiftBy1=e.unitIntervalImage=e.positiveDomainImage=e.evaluateAt=e.transformedForLowerInterval=e.processUnitInterval=e.identityMobiusTransformation=e.createMobiusTransformation=void 0,e.createMobiusTransformation=function(t,e,n,o){return[t,e,n,o]},e.identityMobiusTransformation=function(){return[1,0,0,1]},e.processUnitInterval=function(t){const[e,n,o,r]=t;return[n,n+e,r,r+o]},e.transformedForLowerInterval=function(t,e){const[n,o,r,i]=t;return[o,o+e*n,i,i+e*r]},e.evaluateAt=function(t,e){const[n,o,r,i]=t,a=r*e+i;if(Math.abs(a)<Number.EPSILON){const t=n*e+o;if(t>0)return 1/0;if(t<0)return-1/0}return(n*e+o)/a},e.positiveDomainImage=function(t){const[e,n,o,r]=t;if(0===o&&0===r)return[0,1/0];const i=n/r,a=e/o;return[Math.min(i,a),Math.max(i,a)]},e.unitIntervalImage=function(t){const[e,n,o,r]=t;if(0===o&&0===r)return[0,1/0];const i=n/r,a=(e+n)/(o+r);return[Math.min(i,a),Math.max(i,a)]},e.taylorShiftBy1=function(t){const[e,n,o,r]=t;return[e,n+e,o,r+o]},e.taylorShift=function(t,e){const[n,o,r,i]=t;return[n,o+e*n,r,i+e*r]},e.reciprocalInput=function(t){const[e,n,o,r]=t;return[n,e,r,o]},e.scaleInput=function(t,e){const[n,o,r,i]=t;return[n*e,o,r*e,i]}},869:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.evaluatePolynomial=void 0,e.evaluatePolynomial=function(t,e){let n=0;for(let o=t.length-1;o>=0;o--)n=n*e+t[o];return n}},443:function(t,e,n){var o=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(e,n);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,o,r)}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),r=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||o(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(n(869),e),r(n(833),e),r(n(749),e),r(n(630),e),r(n(658),e)},833:(t,e)=>{function n(t){if(0===t.length||Math.abs(t[t.length-1])<Number.EPSILON)return[0];const e=t[t.length-1];return t.map((t=>t/e))}function o(t){return t.length<=1?[0]:t.slice(1).map(((t,e)=>t*(e+1)))}function r(t,e){if(e.every((t=>Math.abs(t)<Number.EPSILON)))throw new Error("Attempted to divide by a zero polynomial.");const n=t.length-e.length;if(n<0)return[[0],t];const o=[],r=[...t],i=e[e.length-1];for(let t=0;t<=n;t++){const t=r[r.length-1]/i;o.unshift(t);for(let n=0;n<e.length;n++){const o=r.length-e.length+n;o<r.length&&(r[o]-=t*e[n])}r.pop()}for(;r.length>1&&Math.abs(r[r.length-1])<Number.EPSILON;)r.pop();return 0===r.length&&r.push(0),[o,r]}function i(t,e,o=1e-7){for(;e.length>1||Math.abs(e[0])>o;){const[,n]=r(t,e);t=e,e=n}return n(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.polynomialGCD=e.polynomialDivision=e.makeSquareFree=e.shiftCoefficientsBy1=e.polynomialDerivative=e.derivativeTimesX=e.normalizePolynomial=e.addPolynomials=void 0,e.addPolynomials=function(t,e){const n=Math.max(t.length,e.length),o=new Array(n).fill(0);for(let r=0;r<n;r++)r<t.length&&(o[r]+=t[r]),r<e.length&&(o[r]+=e[r]);return o},e.normalizePolynomial=n,e.derivativeTimesX=function(t){return t.map(((t,e)=>t*e))},e.polynomialDerivative=o,e.shiftCoefficientsBy1=function(t){return t.length<=1?[0]:t.slice(1)},e.makeSquareFree=function(t){const e=i(t,o(t));if(1===e.length&&Math.abs(e[0]-1)<Number.EPSILON)return t;const[n]=r(t,e);return n},e.polynomialDivision=r,e.polynomialGCD=i},898:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.lmqPositiveLowerBound=e.lmqPositiveUpperBound=void 0,e.lmqPositiveUpperBound=function(t){const e=t.length;let n;if(n=t[e-1]<0?t.map((t=>-t)):[...t],0===n.length)throw new Error("The polynomial cannot be empty.");if(n.every((t=>t>0)))return NaN;const o=e-1,r=new Array(e).fill(1);let i=Number.NEGATIVE_INFINITY;for(let t=o-1;t>=0;t--){if(n[t]>=0)continue;let e=Number.POSITIVE_INFINITY;for(let i=t+1;i<=o;i++){if(n[i]<=0)continue;const o=Math.pow(Math.pow(2,r[i])*Math.abs(n[t])/n[i],1/(i-t));e=Math.min(e,o),r[i]++}e!==Number.POSITIVE_INFINITY&&(i=Math.max(i,e))}return i<0?NaN:i},e.lmqPositiveLowerBound=function(t){const e=t.length;let n;if(n=t[0]<0?t.map((t=>-t)):[...t],0===n.length)throw new Error("The polynomial cannot be empty.");if(n.every((t=>t>0)))return NaN;const o=e-1,r=new Array(e).fill(1);let i=Number.NEGATIVE_INFINITY;for(let t=1;t<=o;t++){if(n[t]>=0)continue;let e=Number.POSITIVE_INFINITY;for(let o=t-1;o>=0;o--){if(n[o]<=0)continue;const i=Math.pow(Math.pow(2,r[o])*Math.abs(n[t])/n[o],1/(t-o));e=Math.min(e,i),r[o]++}e!==Number.POSITIVE_INFINITY&&(i=Math.max(i,e))}const a=1/i;return a<0?NaN:a}},749:(t,e)=>{function n(t){const e=[...t];for(let n=1;n<e.length;n++)for(let o=0;o<n;o++)e[o]+=t[n]*i(n,o);return e}function o(t,e){const n=[...t];for(let o=1;o<n.length;o++)for(let r=0;r<o;r++)n[r]+=t[o]*i(o,r)*Math.pow(e,o-r);return n}Object.defineProperty(e,"__esModule",{value:!0}),e.scaleInputInReverseOrder=e.scaleInput=e.reversed=e.taylorShift=e.taylorShiftBy1=e.transformedForLowerInterval=e.mapUnitIntervalToPositiveReals=e.mapIntervalToPositiveReals=void 0,e.mapIntervalToPositiveReals=function(t,e){const r=[...t],[i,a]=e;return o(r,i),function(t,e){for(let n=1;n<t.length;n++)t[n]=Math.pow(e,n)*t[n]}(r,a-i),r.reverse(),n(r),r},e.mapUnitIntervalToPositiveReals=function(t){const e=[...t];return e.reverse(),n(e)},e.transformedForLowerInterval=function(t,e){const o=[...t];return function(t,e){for(let n=1;n<t.length;n++)t[n]=Math.pow(e,n)*t[n]}(o,e),o.reverse(),n(o)},e.taylorShiftBy1=n,e.taylorShift=o,e.reversed=function(t){return[...t].reverse()},e.scaleInput=function(t,e){return t.map(((t,n)=>Math.pow(e,n)*t))},e.scaleInputInReverseOrder=function(t,e){const n=t.length-1;return t.map(((t,o)=>Math.pow(e,n-o)*t))};const r={};function i(t,e){if(e<0||e>t)return 0;if(0===e||e===t)return 1;if(1===e||e===t-1)return t;e>t/2&&(e=t-e);const n=[[6],[10],[15,20],[21,35],[28,56,70],[36,84,126],[45,120,210,252]];if(t<=10&&e<n[t-4].length)return n[t-4][e-2];const o=`${t},${e}`;if(r[o])return r[o];const a=i(t-1,e-1)+i(t-1,e);return r[o]=a,a}},630:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},658:(t,e)=>{function n(t){let e=t.length-1;if(0===t.length)return[0];for(;e>0&&Math.abs(t[e])<Number.EPSILON;)e--;return 0===e&&Math.abs(t[0])<Number.EPSILON?[0]:t.slice(0,e+1)}Object.defineProperty(e,"__esModule",{value:!0}),e.polynomialToString=e.updatePolynomialCoefficient=e.hasStrictlyNegativeRoots=e.hasStrictlyPositiveRoots=e.trimLeadingZeroes=e.createPolynomial=void 0,e.createPolynomial=function(t){if(null===t||0===t.length)throw new Error("Coefficients list cannot be null or empty.");for(let e=0;e<t.length;e++){const n=t[e];if(isNaN(n))throw new Error(`NaN detected in coefficient at index ${e}.\nPolynomial coefficients: ${t.join(", ")}`)}return n(t)},e.trimLeadingZeroes=n,e.hasStrictlyPositiveRoots=function(t){return t.some((t=>t<0))},e.hasStrictlyNegativeRoots=function(t){return t.some((t=>t>0))},e.updatePolynomialCoefficient=function(t,e,n){if(e<0||e>=t.length)throw new Error("Index is out of range.");t[e]=n},e.polynomialToString=function(t){return t.map(((t,e)=>0===t?"":`${t>=0?"+":"-"} ${Math.abs(t)}${0===e?"":`x^${e}`}`)).filter((t=>""!==t)).join(" ").trim().replace(/^\+/,"").trim()}},18:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isolatePositiveRealRootsContinuedFractions=e.isolatePositiveRealRootsBisection=void 0;const o=n(833),r=n(898),i=n(749),a=n(756),l=n(869);function s(t){return t.some((t=>t<0))}function c(t,e){return 1===e.length&&0===e[0]&&(p(t,[0,1/0]),!0)}function u(t,e,n){if(n>=1){const o=(0,i.taylorShiftBy1)((0,i.scaleInput)(t,n)),r=(0,a.taylorShiftBy1)((0,a.scaleInput)(e,n));t.splice(0,t.length,...o),e.splice(0,e.length,...r)}}function f(t,e,n){if(0!==e[0])return!1;const o=(0,a.evaluateAt)(n,0);return p(t,[o,o]),e.shift(),!0}function h(t,e,n){const o=(0,a.positiveDomainImage)(e);if(o[1]!==1/0)p(t,o);else{const e=(0,r.lmqPositiveUpperBound)(n);p(t,[o[0],e])}}function m(t,e,n){const o=(0,a.positiveDomainImage)(e);if(o[1]!==1/0)p(t,o);else{const e=(0,r.lmqPositiveUpperBound)(n);p(t,[o[0],e])}}function p(t,e){for(let n=0;n<t.length;n++){const o=t[n];if(o[0]===e[0]&&o[1]===e[1])return;const r=o[0]>e[0]&&o[1]<e[1],i=e[0]>o[0]&&e[1]<o[1];if(r)return;i&&(t.splice(n,1),n--)}const[n,o]=e;for(let n=0;n<t.length;n++){const[r,i]=t[n];if(o<=r)return void t.splice(n,0,e)}t.push(e)}function v(t){let e=0,n=0;for(let o=0;o<t.length;o++){const r=t[o];if(0===r)continue;if(isNaN(r))throw new Error(`NaN detected in coefficient at index ${o}.\nPolynomial coefficients: ${t.join(", ")}`);const i=Math.sign(r);0!==n&&i!==n&&e++,n=i}return e}function d(t){return v((0,i.mapUnitIntervalToPositiveReals)(t))}e.isolatePositiveRealRootsBisection=function(t,e=50){if(0===t.length)throw new Error("The polynomial cannot be empty.");if(t.some((t=>isNaN(t))))throw new Error("The polynomial coefficients cannot contain NaN.");if(!s(t))return 0===t[0]?[[0,0]]:[];const n=(0,o.makeSquareFree)(t),c=(0,r.lmqPositiveUpperBound)(n),u=(0,i.scaleInput)(n,c),f=[[u,(0,a.createMobiusTransformation)(c,0,0,1),v(u)]],h=[];for(let t=0;t<e&&f.length>0;t++){if(t===e)return 0===h.length?[]:h;const[o,r,s]=f.shift();switch(s){case 0:break;case 1:m(h,r,n);break;default:const t=(0,a.evaluateAt)(r,.5);let e=0;0===(0,l.evaluatePolynomial)(u,t)&&(p(h,[t,t]),e=1);const c=(0,i.scaleInputInReverseOrder)(o,2),v=d(c),y=(0,a.scaleInput)(r,.5);1===v?m(h,y,n):v>1&&f.push([c,y,v]);const g=s-e-v;if(0===g)break;const I=(0,i.taylorShiftBy1)(c),N=(0,a.taylorShiftBy1)(y);1===g?m(h,N,n):g>1&&f.push([I,N,g])}}return h},e.isolatePositiveRealRootsContinuedFractions=function(t,e=50){if(0===t.length)throw new Error("The input polynomial cannot be empty.");if(!s(t))return[];const n=[...t],l=(0,o.makeSquareFree)(n),m=v(l),p=[[l.slice(),(0,a.createMobiusTransformation)(1,0,0,1),m]],d=[];for(let t=0;t<e&&p.length>0;t++){if(t===e)return 0===d.length?[]:d;if(d.length>m)throw new Error("Something went wrong: found too many positive roots (more than number of sign variations).");const[n,o,s]=[...p.shift()];if(0===n.length)throw new Error("The current polynomial cannot be empty.");if(c(d,n))break;if(n.some((t=>isNaN(t))))throw new Error("The polynomial coefficients cannot contain NaN.");if(u(n,o,(0,r.lmqPositiveLowerBound)(n)),f(d,n,o),0===s)continue;if(1===s){h(d,o,l);continue}const y=(0,i.taylorShiftBy1)(n),g=(0,a.taylorShiftBy1)(o);let I=0;I+=f(d,y,g)?1:0;const N=v(y);1===N?h(d,g,l):N>1&&p.push([y,g,N]);const b=s-N-I;if(0===b)continue;const P=(0,i.transformedForLowerInterval)(n,1),w=(0,a.transformedForLowerInterval)(o,1);1!==b?(Math.abs(P[0])<Number.EPSILON&&P.shift(),p.push([P,w,b])):h(d,w,l)}return d}},235:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.findStrictlyNegativeRoots=e.findStrictlyPositiveRoots=e.findAllRealRoots=void 0;const o=n(443),r=n(833),i=n(18),a=n(308),l=n(869),s=n(749);function c(t,e){const n=function(t){return t<=0?0:-Math.floor(Math.log10(t))}(e);return parseFloat(t.toFixed(n))}function u(t,e,n=1e-6){let o=t.length;for(let r=0;r<t.length;r++){if(Math.abs(e-t[r])<=n)return;if(e<t[r]){o=r;break}}t.splice(o,0,e)}e.findAllRealRoots=function(t,e=1e-5){const n=[];if(0===t.length)throw new Error("The polynomial cannot be empty.");const f=(0,r.makeSquareFree)(t);Math.abs(t[0])<Number.EPSILON&&(n.push(0),t.splice(0,1));const h=(t,o=!1)=>{const r=(0,i.isolatePositiveRealRootsContinuedFractions)(t),s=e=>(0,l.evaluatePolynomial)(t,e);for(const t of r){const r=(0,a.refineRootIntervalBisection)(s,t,e);u(n,c(o?-r:r,e),e)}};return(0,o.hasStrictlyNegativeRoots)(f)&&h((0,s.scaleInput)(f,-1),!0),(0,o.hasStrictlyPositiveRoots)(f)&&h(f),n},e.findStrictlyPositiveRoots=function(t,e){if(!(0,o.hasStrictlyPositiveRoots)(t))return[];const n=[],s=(0,r.makeSquareFree)(t),c=(0,i.isolatePositiveRealRootsContinuedFractions)(s),u=t=>(0,l.evaluatePolynomial)(s,t);for(const t of c){const o=(0,a.refineRootIntervalBisection)(u,t,e);n.push(o)}return n},e.findStrictlyNegativeRoots=function(t,e){if(!(0,o.hasStrictlyNegativeRoots)(t))return[];const n=[],c=(0,r.makeSquareFree)(t),u=(0,s.scaleInput)(c,-1),f=(0,i.isolatePositiveRealRootsContinuedFractions)(u),h=t=>(0,l.evaluatePolynomial)(u,t);for(const t of f){const o=(0,a.refineRootIntervalBisection)(h,t,e);n.push(o)}return n.map((t=>-t)).sort()}}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={exports:{}};return t[o].call(i.exports,i,i.exports,n),i.exports}(()=>{const t=n(235),e=document.getElementById("coefficients"),o=document.getElementById("findRoots"),r=document.getElementById("result"),i=document.getElementById("precision");o.addEventListener("click",(function(){console.log("Button clicked");const n=e.value;console.log("Input:",n);const o=function(t){const e=t.replace(/\s+/g,"").match(/([-+]?\d*\.?\d*(?:e[+-]?\d+)?x\^\d+)|([-+]?\d*\.?\d*(?:e[+-]?\d+)?x)|([-+]?[\d\.]+(?:e[+-]?\d+)?)/gi)||[],n=[];e.forEach((t=>{const e=t.replace(/(^[\+-]?)x\^/,"$11x^").replace(/(^[\+-]?)x$/,"$11x").match(/^([-+]?\d*\.?\d*(?:e[+-]?\d+)?)(x\^(\d+)|x)?$/);if(e){const t=e[1]?parseFloat(e[1]):1,o=e[3]?parseInt(e[3],10):e[2]?1:0;n[o]=t}}));for(let t=0;t<=Math.max(...Object.keys(n).map(Number));t++)n[t]=n[t]||0;return n}(n);console.log("Parsed polynomial coefficients:",o);const a=Number(i.value)?Number(i.value):1e-5,l=(0,t.findAllRealRoots)(o,a);console.log("Roots:",l),r.textContent=`Real roots: ${l.length>0?l.join(", "):"none"}`,console.log("Result displayed")}))})()})();